<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Experience Timeline</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 16px;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  font-size: 16px;
  color: #2c3e50;
  background: #fff;
  line-height: 1.6;
}

h1 {
  font-size: 2rem;
  margin-bottom: 16px;
  font-weight: 700;
}

#total-experience {
  font-weight: 700;
  margin-bottom: 24px;
  font-size: 1.05rem;
}

/* ===== TIMELINE WRAPPER ===== */

.timeline {
  position: relative;
  max-width: 100%;
}

/* Vertical line BETWEEN columns */
.timeline::before {
  content: '';
  position: absolute;
  left: 220px;        /* EXACT middle between time & content */
  top: 0;
  bottom: 0;
  width: 3px;
  background: #005a87;
}

/* Each experience row */
.experience {
  position: relative;
  display: grid;
  grid-template-columns: 200px 40px 1fr;
  column-gap: 0;
  margin-bottom: 32px;
}

/* LEFT: Time */
.left {
  text-align: right;
  padding-right: 12px;
}

.duration {
  font-size: 0.95rem;
  font-weight: 600;
  color: #005a87;
}

.time-length {
  font-size: 0.85rem;
  color: #444;
}

/* MIDDLE DOT */
.dot {
  position: relative;
}

.dot::before {
  content: '';
  position: absolute;
  left: 50%;
  top: 6px;
  transform: translateX(-50%);
  width: 14px;
  height: 14px;
  border-radius: 50%;
  background: #005a87;
  border: 2px solid #fff;
  box-shadow: 0 0 0 2px #005a87;
}

/* RIGHT: Content */
.right {
  padding-left: 16px;
}

.position {
  font-size: 1.1rem;
  font-weight: 700;
  color: #222;
}

.institution {
  font-size: 0.95rem;
  color: #555;
}

/* ===== MOBILE ===== */

@media (max-width: 768px) {

  body {
    font-size: 14px;
    margin: 12px;
  }

  h1 {
    font-size: 1.5rem;
  }

  .timeline::before {
    left: 140px;
  }

  .experience {
    grid-template-columns: 120px 32px 1fr;
    margin-bottom: 26px;
  }

  .left {
    padding-right: 8px;
  }

  .position {
    font-size: 1rem;
  }

  .institution {
    font-size: 0.9rem;
  }

  .dot::before {
    width: 12px;
    height: 12px;
  }
}
</style>
</head>

<body>

<h1>Experience</h1>
<div id="total-experience"></div>

<div class="timeline">

  <div class="experience">
    <div class="left">
      <div class="duration" data-start="2021-06-09" data-end="present"></div>
      <div class="time-length"></div>
    </div>
    <div class="dot"></div>
    <div class="right">
      <div class="position">Library and Information Assistant</div>
      <div class="institution">Learning Resource Center</div>
      <div class="institution">Indian Institute of Technology Indore, Madhya Pradesh</div>
    </div>
  </div>

  <div class="experience">
    <div class="left">
      <div class="duration" data-start="2016-09" data-end="2021-05"></div>
      <div class="time-length"></div>
    </div>
    <div class="dot"></div>
    <div class="right">
      <div class="position">Project Officer, Project Associate</div>
      <div class="institution">e-ShodhSindhu: Consortium</div>
      <div class="institution">INFLIBNET Centre, Gandhinagar, Gujarat</div>
    </div>
  </div>

  <div class="experience">
    <div class="left">
      <div class="duration" data-start="2014-12" data-end="2016-08"></div>
      <div class="time-length"></div>
    </div>
    <div class="dot"></div>
    <div class="right">
      <div class="position">Library Trainee</div>
      <div class="institution">Central Library</div>
      <div class="institution">Indian Institute of Technology Bhubaneswar, Odisha</div>
    </div>
  </div>

  <div class="experience">
    <div class="left">
      <div class="duration" data-start="2013-07" data-end="2014-07"></div>
      <div class="time-length"></div>
    </div>
    <div class="dot"></div>
    <div class="right">
      <div class="position">Library Trainee</div>
      <div class="institution">Central Library</div>
      <div class="institution">Indian Institute of Technology Gandhinagar, Gujarat</div>
    </div>
  </div>

</div>

<script>
function calculateDuration(start, end) {
  const startDate = new Date(start + "-01");
  const endDate = end.toLowerCase() === "present" ? new Date() : new Date(end + "-01");

  let months = (endDate.getFullYear() - startDate.getFullYear()) * 12;
  months += endDate.getMonth() - startDate.getMonth() + 1;
  return months;
}

function formatDuration(months) {
  const y = Math.floor(months / 12);
  const m = months % 12;
  return `${y ? y + " Year" + (y > 1 ? "s " : " ") : ""}${m ? m + " Month" + (m > 1 ? "s" : "") : ""}`.trim();
}

document.addEventListener("DOMContentLoaded", () => {
  let total = 0;

  document.querySelectorAll(".experience").forEach(exp => {
    const d = exp.querySelector(".duration");
    const t = exp.querySelector(".time-length");
    const s = d.dataset.start;
    const e = d.dataset.end;

    const months = calculateDuration(s, e);
    total += months;

    const sf = new Date(s + "-01").toLocaleString("default", { month: "short", year: "numeric" });
    const ef = e === "present" ? "Present" :
      new Date(e + "-01").toLocaleString("default", { month: "short", year: "numeric" });

    d.textContent = `${sf} â€“ ${ef}`;
    t.textContent = `(${formatDuration(months)})`;
  });

  document.getElementById("total-experience").textContent =
    `Total Experience: ${formatDuration(total)}`;
});
</script>

</body>
</html>

